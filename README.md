# DG_Project

Developed with Unreal Engine 4

***
## DG_Project workflow v0.1
### Реализовано:
* Процедурная генерация карты мира
    * Генерация определенного количества гексов с островами на карте
    * Генерация композитных (состоящих из 2 и более гексов) островов
* Процедурная генерация островов
    * Генерация дорог на пустой карте
    * Генерация объектов ландшафта и окружения после создания графа дорог


***
## DG_Project workflow v0.2
### Реализовано:
* Сохранение карты мира и островов
    * Генерация карты мира вместе с островами целиком и сохранение у хоста
    * Загрузка карты мира и карты острова по сохраненным данным (генерация только пустого острова, далее по сидам)
* Мультиплеер через SteamAPI
    * Хост генерирует карту и острова целиком и передает клиентам при подключении
    * Репликация движения у клиентов и сервера


***
## DG_Project workflow v0.3
### Реализовано:
* Пошаговая система на карте мира.
   * Смена времени дня и ночи, игроки могут действовать только в свой ход
* Система арен
   * Арены создаются в отдельных уровнях и подгружаются по мере необходимости через level streming
*  Базовая система боя
   * Архитектура каста умений
   * Игроки и противники ходят по очереди, персонажи могут действовать только в свой ход
 

***
## DG_Project workflow v0.4
### Реализовано:
* Рефакторинг генерации островов
   * Общий размер острова уменьшен, острова состоят из нескольких структурных элементов (малые из одного, средние из двух, большие из трех). Визуально острова совпадают с отображением на карте мира.
   * Оптимизирован процесс генерации и загрузки островов.
* Рефакторинг генерации дорог
   * Отказались от концепции MainRoad и SubRoad. Дороги генерируются по принципу ветвления. Всякий раз, когда дорога не может генерироваться дальше, нетворк возвращается к предыдущей скелетной точке и генерирует от нее. Процесс продолжает вплоть до 4 уровней ветвления.
   * Сохраняем и загружаем только скелетные точки.
   * Сделана визуализация дорог по принципу конструктора. В зависимости от кол-ва соседей у элемента дороги, будут созданы сооветствующие статик меш элементы.
* Генерация эвентов на островах
   * Создана система генерации интерактивных эвентов на островах. Сами эвенты представляют собой отдельных акторов.
   * Эвенты на островах генерируются, опираясь на элементы дороги, скелетные точки, фиксированное расстояние между аналогичными элементами.
* Визуальное наполнение
   * Переделаны все материалы. Теперь материалы, преимущественно, построены на принципе CellShading и VertexColors. В основном используется Emmissive input.
   * Создан шейдер воды с видимыми волнами. Акторы с соответствующим материалом, способны покачиваться на воде. Корабли оставляют следы движения на воде. Специально помечанные акторы испускают стилизованные волны. На карте острова отображаются стилизованные волны к суше.
   * Исправлена проблема с кривым отображением теней.
   * Добавлен ряд новых мешей по дорогам, озерам, горам.
   * Добавлена система погоды, изменяющаяся случайным образом. Добавлены осадки - дождь и снег.
   * Добавлен туман войны. Реализован через менеджер и соответствующие компоненты. Туман войны состоит из трех элементов - видимая часть, уже посещенная часть, ни разу не посещенная часть. Технически реализовано через RenderTarget.
   * Добавлена мини-карта. Реализовано через RenderTarget.
* Прочее
   *  Система процедурно генерируемых мешей для HexArea на арене. Позволяет адаптивно создавать HexArea в зависимости от каждого конертного ландшафта.
   *  Система высот на арене, встроенная в PathfinderArena
   *  Система интерактивных объектов. Реализовано через компоненты
   *  Добавлены загрузочные экраны - работает только в Standalone режиме.
   *  Акторы приведены к общим родителям.
      *  HexagonCellWorld, HexagonCellArena -> HexagonCell
      *  Общий родитель для всех акторов, которые могут быть размещены на гексах - PlaceableOnHexagonCell
      *  PlaceableOnHexagonCell, HexagonCell -> ActorInteractable
